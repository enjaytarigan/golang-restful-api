# API Documentation

## Admin API

### `POST /login`

Body Request:

```json
{
  "username": "<string>",
  "password": "<string>"
}
```

Response:

`200 - OK`

```json
{
  "success": true,
  "data": {
    "accessToken": "token"
  }
}
```

`400 - Bad Request`

```json
{
  "success": false,
  "message": "username or password is wrong"
}
```

### `POST /admins`

Description: Add new admin

Headers:

```json
{
  "Authorization": "Bearer + {accessToken}"
}
```

Body Request:

```json
{
  "username": "<string>",
  "password": "<string>"
}
```

Response:

`201 - Created`

```json
{
  "success": true,
  "data": {
    "admin": {
      "id": "<auto generated by server>"
    }
  }
}
```

`400 - Bad Request`

```json
{
  "status": "false",
  "message": "<error cause message>"
}
```

### `POST /admins/categories`

Description: add new category

Headers:

```json
{
  "Authorization": "Bearer + {accessToken}"
}
```

Body Request:

```json
{
  "categoryName": "<string>"
}
```

Response:

`201 - Created`

```json
{
  "status": true,
  "data": {
    "category": {
      "ID": "<integer, unique>",
      "Name": "<string>",
      "CreatedAt": "<date>",
      "CreatedBy": "<integer>"
    }
  }
}
```

### `PUT /admins/categories/{categoryId}`

Description: edit category by id

Headers:

```json
{
  "Authorization": "Bearer + {accessToken}"
}
```

Body Request:

```json
{
  "categoryName": "<string>"
}
```

Response:

`200 - OK`

```json
{
  "status": true,
  "data": {
    "category": {
      "ID": "<integer, unique>",
      "Name": "<string>",
      "CreatedAt": "<date>",
      "CreatedBy": "<integer>"
    }
  }
}
```

### `DELETE /admins/categories/{categoryId}`

Description: delete category by id

Headers:

```json
{
  "Authorization": "Bearer + {accessToken}"
}
```

Body Request:

```json
{
  "categoryName": "<string>"
}
```

Response:

`200 - OK`

```json
{
  "status": true
}
```

### `GET /admins/categories`

Headers:

```json
{
  "Authorization": "Bearer + {accessToken}"
}
```

Body Request: -

Response:

`200 - OK`

```json
{
  "status": true,
  "data": {
    "categories": []
  }
}
```

### `GET /admins/products`

Headers:

```json
{
  "Authorization": "Bearer + {accessToken}"
}
```

Query:

```json
{
  "page": "int",
  "size": "int"
}
```

Body Request: -

Response:

`200 - OK`

```json
{
  "status": true,
  "data": {
    "products": [
      {
        "id": "int",
        "name": "string",
        "description": "string",
        "price": "number",
        "categoryId": "int",
        "createdBy": "int",
        "type": "int",
        "category": "string",
        "createdAt": "date"
      }
    ],
    "totalItems": "int",
    "totalPages": "int",
    "currentPage": "int"
  }
}
```

### `POST /admins/products`

Headers:

```json
{
  "Authorization": "Bearer + {accessToken}"
}
```

Body Request:

```
multipart/form-data

mainImg     : imag
name        : string
price       : integer
categoryId  : integer
description : string
```

Response:

`201 - Created`

```json
{
  "status": true,
  "data": {
    "product": {
      "id": "int",
      "name": "string",
      "description": "string",
      "price": "number",
      "categoryId": "int",
      "createdBy": "int",
      "type": "int",
      "category": "string",
      "createdAt": "date"
    }
  }
}
```
